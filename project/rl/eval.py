from transformers import T5ForConditionalGeneration, AutoTokenizer

d = { "prompt": "Top Class Actions’s website and social media posts use affiliate links. If you make a purchase using     such links, we may receive a commission, but it will not result in any additional charges to you.     Please review our Affiliate Link Disclosure for more information.      Southwest COVID class action overview:       Who: A group of airline employees are suing Southwest Airlines.    Why: The plaintiffs say they were discriminated against when they opted not to get the COVID-19 vaccine.    Where: The Southwest COVID class action lawsuit was filed in a Florida federal court.   What are my options: Consumers looking for alternatives to Southwest Airlines may wish to explore their options at CheapOair.com.      A group of airline employees are suing Southwest Airlines alleging they were discriminated against when they opted not to get the COVID-19 vaccine, costing them work and time.       Plaintiffs John Allen, Peter Birchenough and Susan Golliheair filed the class action lawsuit against Southwest Airlines Co. (SWA) on behalf of themselves and 122 other plaintiffs on April 11 in a Florida federal court.      The plaintiffs comprise a group of current and former pilots and flight attendants of SWA, each of whom says they were subject to the airline’s allegedly discriminatory and retaliatory COVID-19 policies when they opted out of getting the COVID-19 vaccine.       According to the lawsuit, during their employment with SWA, the plaintiffs were subjected to discrimination by SWA, deprived employment opportunities, deprived of income opportunities and treated differently than SWA employees who did not oppose or reject the COVID-19 vaccine based on “sincerely held religious beliefs.”      “Plaintiffs herein allege that SWA’s COVID-19 policies and practices were unlawful because they discriminated against them based on their sincerely held religious beliefs and/or medical/disability status,” they say.      Non-vaccinated workers treated differently, lawsuit states      The plaintiffs say they were treated differently than other employees due to the fact they did not have the COVID-19 vaccine.       For example, Birchenough said he was removed from his upcoming flight and forced to quarantine due to an alleged COVID-19 exposure, which a vaccinated employee would not have been forced to do.      The other plaintiffs describe similar experiences and say they lost pay from having to quarantine and not take flights, where vaccinated employees did not.      The plaintiffs are suing for violations of Title VII of the Civil Rights Act and the Americans with Disabilities Act. They seek certification of the class action, damages, fees, costs and a jury trial.      In 2020, Southwest Airlines was hit with a class action lawsuit by a passenger who challenged the company’s choice not to refund tickets subjected to coronavirus changes.      What do you think of the allegations in this Southwest Airlines lawsuit? Let us know in the comments.       The plaintiffs are represented by Nathan McCoy, Molly Mullen and Karina McMahon of Wilson McCoy PA.       The Southwest Airlines class action lawsuit is John Allen, et al. v. Southwest Airlines Co., Case No. 6:23-cv-00657, in the U.S. District Court for the Middle District of Florida.       Read About More Class Action Lawsuits & Class Action Settlements", "chosen": "A New York federal judge ruled that two companies, including Law Office of Samuel M. Smith, must face a proposed class action lawsuit against Verizon over alleged  email bomb attacks  toward business customers. The lawsuit, filed in December 2021, claimed that Verizon failed to guard confidential information such as email addresses, allowing an attacker to flood their business email accounts with messages. The lawsuit also claimed that the deluge of spam hid legitimate emails, leading to the companies being late to discover unauthorized purchases made through their accounts. The judge ruled that the plaintiffs must pursue their claims individually, as they did not rebutted the presumption of arbitrability from their arbitration agreements with Verizon.", "rejected": "<pad> Plaintiffs John Allen, Peter Birchenough and Susan Golliheair filed a class action lawsuit against Southwest Airlines Co. (SWA) in a Florida federal court over allegations that they were discriminated against when they opted not to get the COVID-19 vaccine. The lawsuit was filed in a Florida district court and claimed that the company discriminated against them based on their sincerely held religious beliefs and medical/disability status. The plaintiffs sought certification of the class action, damages, fees, costs and a jury trial.</s>"}

model_path = "./model"
model = T5ForConditionalGeneration.from_pretrained(model_path)
tokenizer = AutoTokenizer.from_pretrained("google/flan-t5-base")

text = d["prompt"] #"HAMMOND, Ind. (WLS) -- Oil titan BP has reached a nearly $3 million settlement over air pollution violations at its refinery in Whiting, Indiana.\r\r\n\r\r\nThis stemmed from a 2019 lawsuit filed by environmentalists, alleging that emissions tests on BP's smokestacks showed high levels of microscopic soot-like particles that can trigger heart and asthma attacks.\r\r\n\r\r\nThat refinery sits on the southwestern Lake Michigan shoreline between Chicago and Hammond.\r\r\n\r\r\nThe settlement agreement between BP North America Inc. and Sierra Club was submitted Thursday to the U.S. District Court in Northern Indiana and now must be approved by the judge in the case. On April 14, 2021, Judge Philip P. Simon ruled that BP had clearly violated the limits for particulate matter emissions from the plant's boilers and was liable under the federal Clean Air Act for those violations, according to a release from the Sierra Club. Shortly after the judge's ruling, the Indiana Department of Environmental Management issued a modified air pollution control permit for BP Whiting plant.\r\r\n\r\r\nThe BP Whiting refinery, built by Standard Oil in 1889 on the shores of Lake Michigan, is one of the oldest and largest refineries in the U.S., according to the Sierra Club. The facility sprawls over 1,400 acres in Whiting, East Chicago and Hammond. It has a capacity to refine 435,000 barrels of oil per day, making it the sixth largest refinery in the U.S., according to the U.S. Energy Information Administration.\r\r\n\r\r\nABC7 Chicago has reached out to BP for a statement, but has not yet heard back.\r\r\n\r\r\nCopyright \u00a9 2022 WLS-TV. All Rights Reserved."

inputs = tokenizer(text, return_tensors="pt")
outputs = model.generate(**inputs, penalty_alpha=0.6, top_k=4, max_length=512)
print(tokenizer.batch_decode(outputs, skip_special_tokens=True))

print("====================================")
print("ORIGINAL: ", d["chosen"])
